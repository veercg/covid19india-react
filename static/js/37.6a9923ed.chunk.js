(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[37],{272:function(e,t,n){"use strict";n.r(t);var a=n(20),c=n(33),s=n(82),i=n(74),o=n(259),r=n(38),l=n(1),d=n(227),j=n(228),b=n(90),u=Object(l.lazy)((function(){return Promise.all([n.e(17),n.e(40)]).then(n.bind(null,241))})),O=function(e){var t=e.lastViewedLog,n=e.newUpdate,s=e.isTimelineMode,O=e.setIsTimelineMode,p=e.showUpdates,f=e.setDate,m=e.dates,h=e.setNewUpdate,v=e.setShowUpdates,x=Object(l.useMemo)((function(){return Object(a.jsx)(d.a,{onClick:function(){v(!p),h(!1)}})}),[h,v,p]),w=Object(l.useMemo)((function(){return Object(a.jsx)(j.a,{onClick:function(){v(!p)}})}),[v,p]),g=Object(l.useMemo)((function(){return Object(a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"-.2 -.2 17 17",width:"16",height:"16",children:Object(a.jsx)("path",{fillRule:"evenodd",d:"M1.643 3.143L.427 1.927A.25.25 0 000 2.104V5.75c0 .138.112.25.25.25h3.646a.25.25 0 00.177-.427L2.715 4.215a6.5 6.5 0 11-1.18 4.458.75.75 0 10-1.493.154 8.001 8.001 0 101.6-5.684zM7.75 4a.75.75 0 01.75.75v2.992l2.028.812a.75.75 0 01-.557 1.392l-2.5-1A.75.75 0 017 8.25v-3.5A.75.75 0 017.75 4z"})})}),[]),M=Object(b.c)({opacity:s?1:0,transform:"perspective(600px) rotateX(".concat(s?180:0,"deg)"),config:{mass:5,tension:500,friction:80}}),y=M.transform,U=M.opacity,k=Object(l.useMemo)((function(){var e=[];return[0,0,0].map((function(t,n){return e.push({animationDelay:"".concat(500+250*n,"ms")}),null})),e}),[]),N=Object(l.useCallback)((function(){O(!0),p&&v(!p)}),[O,v,p]);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(b.a.div,{className:"actions",style:{opacity:U.interpolate((function(e){return 1-e})),transform:y,pointerEvents:s?"none":""},children:[Object(a.jsx)("h5",{className:"fadeInUp",style:k[0],children:"".concat(function(e){return Object(i.a)(Object(r.a)(Object(o.a)(e,"T",new Date),"Asia/Kolkata"),"dd MMM, p")}(t)," IST")}),Object(a.jsxs)("div",{className:"bell-icon fadeInUp",style:k[1],children:[p?w:x,n&&Object(a.jsx)("div",{className:"indicator"})]}),Object(a.jsx)("div",{className:"timeline-icon fadeInUp",onClick:N,style:k[2],children:g})]}),Object(a.jsx)(b.a.div,{className:"actions timeline",style:{opacity:U,transform:y.interpolate((function(e){return"".concat(e," rotateX(180deg)")})),pointerEvents:s?"":"none"},children:s&&Object(a.jsx)(l.Suspense,{fallback:Object(a.jsx)("div",{}),children:Object(a.jsx)(u,Object(c.a)({},{setIsTimelineMode:O,setDate:f,dates:m}))})})]})},p=n(32),f=n(175),m=n(117),h=Object(l.lazy)((function(){return n.e(36).then(n.bind(null,240))})),v=function(e){var t=e.setDate,n=e.dates,i=Object(l.useState)(!1),o=Object(s.a)(i,2),r=o[0],d=o[1],j=Object(f.a)("newUpdate",!1),b=Object(s.a)(j,2),u=b[0],v=b[1],x=Object(f.a)("lastViewedLog",0),w=Object(s.a)(x,2),g=w[0],M=w[1],y=Object(l.useState)(!1),U=Object(s.a)(y,2),k=U[0],N=U[1],I=Object(m.a)("https://api.covid19india.org/updatelog/log.json",p.b,{revalidateOnFocus:!0}).data;return Object(l.useEffect)((function(){if(void 0!==I){var e=1e3*I.slice().reverse()[0].timestamp;e!==g&&(v(!0),M(e))}}),[g,I,M,v]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(O,Object(c.a)({},{lastViewedLog:g,newUpdate:u,isTimelineMode:k,setIsTimelineMode:N,showUpdates:r,setDate:t,dates:n,setNewUpdate:v,setShowUpdates:d})),r&&Object(a.jsx)(l.Suspense,{fallback:Object(a.jsx)("div",{}),children:Object(a.jsx)(h,Object(c.a)({},{updates:I}))})]})},x=function(e,t){return!0};t.default=Object(l.memo)(v,x)}}]);
//# sourceMappingURL=37.6a9923ed.chunk.js.map