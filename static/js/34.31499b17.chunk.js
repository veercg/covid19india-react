(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[34],{106:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(82),a=n(108),c=n(1),i=function(t){var e=Object(c.useState)(null),n=Object(r.a)(e,2),i=n[0],o=n[1];return Object(c.useEffect)((function(){var e=t.current,n=new a.a((function(t,e){t.forEach((function(t,e){o(t.contentRect)}))}));return n.observe(e),function(){n.unobserve(e)}}),[t]),i}},251:function(t,e,n){"use strict";n.r(e);var r=n(20),a=n(82),c=n(6),i=n(106),o=n(32),u=n(84),s=n.n(u),l=n(115),f=n(183),d=n(182),j=n(131),b=n(123),v=n(254),m=n(130),O=n(149),h=n(154),g=n(236),x=n(206),p=n(238),k=n(147),y=(n(101),n(75)),A=n(83),M=n.n(A),N=n(1),w=n(271),E=15,T=35,R=25,C=25,D=.7;function H(t){var e,n=t.timeseries,u=t.dates,A=t.endDate,M=t.chartType,H=t.isUniform,U=t.isLog,L=t.isMovingAverage,P=Object(w.a)().t,S=Object(N.useRef)([]),Y=Object(N.useRef)(),B=Object(i.a)(Y),I=Object(N.useMemo)((function(){return c.B.filter((function(t){return"delta"===M||"tpr"!==t}))}),[M]),J=B||(null===(e=Y.current)||void 0===e?void 0:e.getBoundingClientRect())||{width:C+T,height:R+E},z=J.width,F=J.height,V=Object(N.useState)(u[u.length-1]),X=Object(a.a)(V,2),q=X[0],G=X[1];Object(N.useEffect)((function(){G(u[u.length-1])}),[u]);var K=Object(N.useMemo)((function(){var t=u.length,e=Object(y.a)(Object(o.k)(u[t-1]),Object(o.k)(u[0])),n=z-T;return Math.max(0,n-C)/(1.25*e)<4}),[z,u]),Q=Object(N.useMemo)((function(){var t=u.length,e=z-T;return Object(v.a)().clamp(!0).domain([Object(o.k)(u[0]||A),Object(o.k)(u[t-1]||A)]).range([C,e])}),[z,A,u]),W=Object(N.useMemo)((function(){var t=F-R,e=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.domain();return e?t.domain([n[0],n[0]*Math.pow(n[1]/n[0],1.4285714285714286)]):t.domain([n[0],n[0]+(n[1]-n[0])/D]),t},r=Math.min(0,Object(l.a)(u,(function(t){return Object(o.h)(n[t],M,"active",{movingAverage:L})}))||0),a=Math.max(1,Object(f.a)(u,(function(t){return Math.max(Object(o.h)(n[t],M,"confirmed",{movingAverage:L}),Object(o.h)(n[t],M,"recovered",{movingAverage:L}),Object(o.h)(n[t],M,"deceased",{movingAverage:L}))}))||0),i=e(Object(m.a)().clamp(!0).domain([r,a]).range([t,E]).nice(4)),s=e(Object(O.a)().clamp(!0).domain([Math.max(1,r),Math.max(10,a)]).range([t,E]).nice(4),!0);return I.map((function(r){if(H&&"total"===M&&U&&c.p.includes(r))return s;if(H&&c.p.includes(r))return i;var a=Math.min(0,Object(l.a)(u,(function(t){return Object(o.h)(n[t],M,r,{movingAverage:L})}))||0),d=Math.max(1,Object(f.a)(u,(function(t){return Object(o.h)(n[t],M,r,{movingAverage:L})}))||0);return"total"===M&&U?e(Object(O.a)().clamp(!0).domain([Math.max(1,a),Math.max(10,d)]).range([t,E]).nice(4),!0):e(Object(m.a)().clamp(!0).domain(["total"===M||"active"!==r?0:a,"%"===c.u[r].format?Math.min(100,d):d]).range([t,E]).nice(4))}))}),[F,M,H,U,L,I,u,n]);Object(N.useEffect)((function(){var t=u.length,e=z-T,r=F-R,a="delta"===M&&!L,i=function(t){return t.attr("class","x-axis").call(Object(j.a)(Q).ticks(function(t){return t<480?4:6}(z)))},s=function(t,e){t.attr("class","x-axis2").call(Object(j.a)(Q).tickValues([]).tickSize(0)).select(".domain").style("transform","translateY(".concat(e(0),"px)")),e(0)!==r?t.select(".domain").attr("opacity",.4):t.select(".domain").attr("opacity",0)},l=function(t,e,n){return t.attr("class","y-axis").call(Object(j.b)(e).ticks(4).tickFormat((function(t){return Object(o.e)(t,n)})).tickPadding(4))};function f(t){var e=Object(h.a)(t)[0],n=Q.invert(e);if(!isNaN(n)){var r=(0,Object(d.a)((function(t){return Object(o.k)(t)})).left)(u,n,1),a=u[r-1],c=u[r];G(n-Object(o.k)(a)<Object(o.k)(c)-n?a:c)}}function v(e){G(u[t-1])}I.forEach((function(d,j){var m=S.current[j],O=Object(g.a)(m),h=O.transition().duration(c.c),y=W[j],A=c.u[d].color,N="%"===c.u[d].format?"%":"short";O.select(".x-axis").style("transform","translateY(".concat(r,"px)")).transition(h).call(i),O.select(".x-axis2").transition(h).call(s,y),O.select(".y-axis").style("transform","translateX(".concat(e,"px)")).transition(h).call(l,y,N),O.selectAll("circle.normal").data(K?[]:u,(function(t){return t})).join((function(t){return t.append("circle").attr("class","normal").attr("fill",A).attr("stroke",A).attr("cx",(function(t){return Q(Object(o.k)(t))})).attr("cy",(function(t){return y(a?0:Object(o.h)(n[t],M,d,{movingAverage:L}))})).attr("r",2)})).transition(h).attr("cx",(function(t){return Q(Object(o.k)(t))})).attr("cy",(function(t){return y(Object(o.h)(n[t],M,d,{movingAverage:L}))}));var w=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Object(x.a)().curve(p.a).x((function(t){return Q(Object(o.k)(t))})).y0(y(0)).y1(e?y(0):function(t){return y(Object(o.h)(n[t],M,d,{movingAverage:L}))})(t)};if(a)O.selectAll(".trend").remove(),K?(O.selectAll(".stem").transition(h).attr("y1",y(0)).attr("y2",y(0)).remove(),O.selectAll(".trend-area").data(t?[u]:[]).join((function(t){return t.append("path").attr("class","trend-area").call((function(t){return t.attr("d",(function(t){return w(t,!0)})).transition(h).attr("d",w)}))}),(function(t){return t.call((function(t){return t.transition(h).attrTween("d",(function(t){var e=Object(g.a)(this).attr("d"),n=w(t);return Object(b.interpolatePath)(e,n)}))}))}))):(O.selectAll(".trend-area").transition(h).attr("d",(function(t){return w(t,!0)})).remove(),O.selectAll(".stem").data(u,(function(t){return t})).join((function(t){return t.append("line").attr("class","stem").attr("stroke-width",4).attr("x1",(function(t){return Q(Object(o.k)(t))})).attr("y1",y(0)).attr("x2",(function(t){return Q(Object(o.k)(t))})).attr("y2",y(0))}),(function(t){return t}),(function(t){return t.call((function(t){return t.transition(h).attr("x1",(function(t){return Q(Object(o.k)(t))})).attr("x2",(function(t){return Q(Object(o.k)(t))})).attr("y2",y(0)).remove()}))})).transition(h).attr("x1",(function(t){return Q(Object(o.k)(t))})).attr("y1",y(0)).attr("x2",(function(t){return Q(Object(o.k)(t))})).attr("y2",(function(t){return y(Object(o.h)(n[t],M,d,{movingAverage:L}))})));else{O.selectAll(".stem").transition(h).attr("y1",y(0)).attr("y2",y(0)).remove(),O.selectAll(".trend-area").transition(h).attr("d",(function(t){return w(t,!0)})).remove();var E=Object(k.a)().curve(p.a).x((function(t){return Q(Object(o.k)(t))})).y((function(t){return y(Object(o.h)(n[t],M,d,{movingAverage:L}))}));O.selectAll(".trend").data(t?[u]:[]).join((function(t){return t.append("path").attr("class","trend").attr("fill","none").attr("stroke-width",4).attr("d",E).call((function(t){return t.transition(h).attr("opacity",1)}))}),(function(t){return t.call((function(t){return t.attr("opacity",1).transition(h).attrTween("d",(function(t){var e=Object(g.a)(this).attr("d"),n=E(t);return Object(b.interpolatePath)(e,n)}))}))})).attr("stroke",A+(K?"99":"50"))}O.selectAll("*").attr("pointer-events","none"),O.on("mousemove",f).on("touchmove",(function(t){return f(t.touches[0])})).on("mouseout touchend",v)}))}),[z,F,M,L,K,Q,W,I,u,n]),Object(N.useEffect)((function(){I.forEach((function(t,e){var r=S.current[e],a=Object(g.a)(r),i=c.u[t].color,u=W[e],s=a.transition().duration(c.c);a.selectAll("circle.condensed").data(K&&q?[q]:[],(function(t){return t})).join((function(e){return e.append("circle").attr("class","condensed").attr("fill",i).attr("stroke",i).attr("pointer-events","none").attr("cx",(function(t){return Q(Object(o.k)(t))})).attr("cy",(function(e){return u(Object(o.h)(n[e],M,t,{movingAverage:L}))})).attr("r",4)})).transition(s).attr("cx",(function(t){return Q(Object(o.k)(t))})).attr("cy",(function(e){return u(Object(o.h)(n[e],M,t,{movingAverage:L}))})),K||a.selectAll("circle").attr("r",(function(t){return t===q?4:2}))}))}),[M,L,K,q,Q,W,I,n]);var Z=Object(N.useCallback)((function(t){if(q){var e=Object(o.h)(null===n||void 0===n?void 0:n[q],M,t,{movingAverage:L});if(!c.n.includes(t)||0!==e){var r=u[u.findIndex((function(t){return t===q}))-1];return e-Object(o.h)(null===n||void 0===n?void 0:n[r],M,t,{movingAverage:L})}}}),[n,u,q,M,L]),$=Object(N.useMemo)((function(){return I.map((function(t,e){return{animationDelay:"".concat(250*e,"ms")}}))}),[I]);return Object(r.jsx)("div",{className:"Timeseries",children:I.map((function(t,e){var a=Z(t,e),i=c.u[t];return Object(r.jsxs)("div",{className:s()("svg-parent fadeInUp","is-".concat(t)),style:$[e],ref:0===e?Y:null,children:[q&&Object(r.jsxs)("div",{className:s()("stats","is-".concat(t)),children:[Object(r.jsx)("h5",{className:"title",children:P(Object(o.a)(i.displayName))}),Object(r.jsx)("h5",{children:Object(o.c)(q,"dd MMMM")}),Object(r.jsxs)("div",{className:"stats-bottom",children:[Object(r.jsx)("h2",{children:Object(o.e)(Object(o.h)(null===n||void 0===n?void 0:n[q],M,t,{movingAverage:L}),"short"!==i.format?i.format:"int",t)}),Object(r.jsx)("h6",{children:"".concat(a>0?"+":"").concat(Object(o.e)(a,"short"!==i.format?i.format:"int",t))})]})]}),Object(r.jsxs)("svg",{ref:function(t){S.current[e]=t},preserveAspectRatio:"xMidYMid meet",children:[Object(r.jsx)("g",{className:"x-axis"}),Object(r.jsx)("g",{className:"x-axis2"}),Object(r.jsx)("g",{className:"y-axis"})]})]},t)}))})}var U=function(t,e){return!!M()(e.chartType,t.chartType)&&(!!M()(e.isUniform,t.isUniform)&&(!!M()(e.isLog,t.isLog)&&(!!M()(e.isMovingAverage,t.isMovingAverage)&&(!!M()(e.regionHighlighted.stateCode,t.regionHighlighted.stateCode)&&(!!M()(e.regionHighlighted.districtName,t.regionHighlighted.districtName)&&(!!M()(e.endDate,t.endDate)&&!!M()(e.dates,t.dates)))))))};e.default=Object(N.memo)(H,U)}}]);
//# sourceMappingURL=34.31499b17.chunk.js.map