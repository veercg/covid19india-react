(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[35],{106:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(82),r=n(108),c=n(1),i=function(t){var e=Object(c.useState)(null),n=Object(a.a)(e,2),i=n[0],o=n[1];return Object(c.useEffect)((function(){var e=t.current,n=new r.a((function(t,e){t.forEach((function(t,e){o(t.contentRect)}))}));return n.observe(e),function(){n.unobserve(e)}}),[t]),i}},252:function(t,e,n){"use strict";n.r(e);var a=n(20),r=n(82),c=n(6),i=n(106),o=n(32),s=n(84),u=n.n(s),l=n(183),b=n(131),d=n(209),f=n(123),j=n(254),O=n(130),v=n(236),h=n(253),m=n(267),p=n(206),g=n(238),x=(n(101),n(59)),k=n(75),y=n(83),N=n.n(y),w=n(1),E=n(46),D=n.n(E),R=0,C=35,H=20,M=25;function A(t){var e,n=t.timeseries,s=t.dates,y=t.brushDomain,N=t.endDate,E=t.setBrushEnd,A=t.setLookback,B=Object(w.useRef)(),J=Object(w.useRef)(),T=Object(i.a)(J)||(null===(e=J.current)||void 0===e?void 0:e.getBoundingClientRect())||{width:M+C,height:H+R},U=T.width,Y=T.height,I=Object(w.useMemo)((function(){var t=s.length,e=U-C;return Object(j.a)().clamp(!0).domain([Object(o.k)(s[0]||N),Object(o.k)(s[t-1]||N)]).range([M,e])}),[U,N,s]);Object(w.useEffect)((function(){var t=Y-H,e=Object(m.a)().keys(c.b).value((function(t,e){return Math.max(0,Object(o.h)(n[t],"total",e))}))(s),a=Object(O.a)().clamp(!0).domain([0,Object(l.a)(e[e.length-1],(function(t){return 1.2*Object(r.a)(t,2)[1]}))]).range([t,R]),i=Object(v.a)(B.current),u=i.transition().duration(c.c);i.select(".x-axis").attr("pointer-events","none").style("transform","translateY(".concat(t,"px)")).transition(u).call((function(t){return t.attr("class","x-axis").call(Object(b.a)(I).ticks(function(t){return t<480?4:6}(U)))}));var d=Object(p.a)().curve(g.a).x((function(t){return I(Object(o.k)(t.data))})).y0((function(t){return a(t[0])})).y1((function(t){return a(t[1])}));i.selectAll(".trend-area").data(e).join((function(t){return t.append("path").attr("class","trend-area").attr("fill",(function(t){var e=t.key;return c.u[e].color+"99"})).attr("stroke","none").attr("d",d).attr("pointer-events","none")}),(function(t){return t.transition(u).attrTween("d",(function(t){var e=Object(v.a)(this).attr("d"),n=d(t);return Object(f.interpolatePath)(e,n)})).selection()}))}),[s,U,Y,I,n]);var L=y.map((function(t){return I(Object(o.k)(t))})),P=Object(w.useCallback)((function(t){var e=t.sourceEvent,n=t.selection;if(e){var a=n.map(I.invert),c=Object(r.a)(a,2),i=c[0],o=c[1];D.a.unstable_batchedUpdates((function(){E(Object(x.a)(o,{representation:"date"})),A(Object(k.a)(o,i))}))}}),[I,E,A]);return Object(w.useEffect)((function(){var t=Object(v.a)(B.current),e=U-C,n=Y-H;function a(t){var e=Object(d.a)(this.parentNode);if(e){var n=e[1]-e[0],a=Object(h.a)(t),i=Object(r.a)(a,1),o=Object(r.a)(i[0],1)[0],s=o-n/2,u=o+n/2,l=I.range(),b=Object(r.a)(l,2),f=b[0],j=b[1];Object(v.a)(this.parentNode).call(c.move,u>j?[j-n,j]:s<f?[f,f+n]:[s,u])}}var c=Object(d.b)().extent([[M,R],[e,n]]).on("start brush",P).on("end",(function(t){var e=t.sourceEvent,n=t.selection;if(e&&n){var a=n.map(I.invert).map((function(t){return Object(x.a)(t,{representation:"date"})}));Object(v.a)(this).call(c.move,a.map((function(t){return I(Object(o.k)(t))}))).call((function(t){return t.select(".overlay").attr("cursor","pointer")}))}}));t.select(".brush").call(c).call(c.move,L).call((function(t){return t.select(".overlay").attr("cursor","pointer").datum({type:"selection"}).on("mousedown touchstart",a)}))}),[U,Y,I,L,P]),Object(a.jsx)("div",{className:"Timeseries",children:Object(a.jsx)("div",{className:u()("svg-parent fadeInUp is-brush"),ref:J,children:Object(a.jsxs)("svg",{ref:B,preserveAspectRatio:"xMidYMid meet",children:[Object(a.jsx)("g",{className:"brush"}),Object(a.jsx)("g",{className:"x-axis"})]})})})}var B=function(t,e){return!!N()(e.brushDomain,t.brushDomain)&&(!!N()(e.regionHighlighted.stateCode,t.regionHighlighted.stateCode)&&(!!N()(e.regionHighlighted.districtName,t.regionHighlighted.districtName)&&(!!N()(e.endDate,t.endDate)&&!!N()(e.dates,t.dates))))};e.default=Object(w.memo)(A,B)}}]);
//# sourceMappingURL=35.0b4aa274.chunk.js.map