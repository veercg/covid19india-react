(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[32],{104:function(e,t,n){"use strict";var i=n(82),c=n(1),s={root:null,rootMargin:"0px 0px 0px 0px",threshold:0};t.a=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),a=n[0],r=n[1];return Object(c.useEffect)((function(){e.current&&new IntersectionObserver((function(t,n){t.forEach((function(t){t.isIntersecting&&(r(!0),n.unobserve(e.current))}))}),s).observe(e.current)}),[e]),a}},269:function(e,t,n){"use strict";n.r(t);var i=n(20),c=n(33),s=n(82),a=n(6),r=n(104),l=n(32),o=n(84),d=n.n(o),j=n(1),b=n.n(j),u=n(21),O=n.n(u);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function h(e,t){if(null==e)return{};var n,i,c=function(e,t){if(null==e)return{};var n,i,c={},s=Object.keys(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var f=Object(j.forwardRef)((function(e,t){var n=e.color,i=void 0===n?"currentColor":n,c=e.size,s=void 0===c?24:c,a=h(e,["color","size"]);return b.a.createElement("svg",v({ref:t,xmlns:"http://www.w3.org/2000/svg",width:s,height:s,viewBox:"0 0 24 24",fill:"none",stroke:i,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},a),b.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),b.a.createElement("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),b.a.createElement("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),b.a.createElement("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"}))}));f.propTypes={color:O.a.string,size:O.a.oneOfType([O.a.string,O.a.number])},f.displayName="Smile";var m=f,x=n(122),p=n(271),y=n(5),g=n(225),w=n(117),N=Object(j.lazy)((function(){return Promise.all([n.e(1),n.e(18)]).then(n.bind(null,239))})),k=Object(j.lazy)((function(){return n.e(6).then(n.bind(null,155))})),C=Object(j.lazy)((function(){return Promise.all([n.e(0),n.e(7)]).then(n.bind(null,229))})),S=Object(j.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,230))})),z=Object(j.lazy)((function(){return Promise.all([n.e(0),n.e(4),n.e(42)]).then(n.bind(null,273))})),M=Object(j.lazy)((function(){return n.e(9).then(n.bind(null,231))})),P=Object(j.lazy)((function(){return Promise.all([n.e(1),n.e(2),n.e(10)]).then(n.bind(null,232))})),E=Object(j.lazy)((function(){return n.e(11).then(n.bind(null,274))})),I=Object(j.lazy)((function(){return Promise.all([n.e(0),n.e(33)]).then(n.bind(null,265))})),R=Object(j.lazy)((function(){return Promise.all([n.e(0),n.e(23)]).then(n.bind(null,211))}));function U(){var e,t,n,o,b,u,O,v,h=Object(p.a)().t,f=Object(y.i)().stateCode.toUpperCase(),U=Object(g.a)("mapStatistic","active"),H=Object(s.a)(U,2),T=H[0],L=H[1],W=Object(j.useState)(!1),B=Object(s.a)(W,2),F=B[0],J=B[1],V=Object(j.useState)({stateCode:f,districtName:null}),D=Object(s.a)(V,2),q=D[0],A=D[1];Object(j.useEffect)((function(){q.stateCode!==f&&(A({stateCode:f,districtName:null}),J(!1))}),[q.stateCode,f]);var G=Object(w.a)("".concat(a.a,"/timeseries-").concat(f,".min.json"),l.b,{revalidateOnMount:!0,refreshInterval:1e5}),K=G.data,Q=G.error,X=Object(w.a)("".concat(a.a,"/data.min.json"),l.b,{revalidateOnMount:!0,refreshInterval:1e5}).data,Y=Object(j.useMemo)((function(){var e;if(X){var t=window.innerWidth>=540?3:2,n=(null===(e=X[f])||void 0===e?void 0:e.districts)?Object.keys(X[f].districts).filter((function(e){return"Unknown"!==e})).length:0;return Math.ceil(n/t)}}),[X,f]),Z=Object(j.useRef)(),$=Object(r.a)(Z,{once:!0}),_=Object(j.useMemo)((function(){var e=[];return[0,0,0,0].map((function(t,n){return e.push({animationDelay:"".concat(250*n,"ms")}),null})),e}),[]),ee=F?window.innerWidth>=540?10:8:6;return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)(x.a,{children:[Object(i.jsxs)("title",{children:["Coronavirus Outbreak in ",a.t[f]," - covid19india.org"]}),Object(i.jsx)("meta",{name:"title",content:"Coronavirus Outbreak in ".concat(a.t[f],": Latest Map and Case Count")})]}),Object(i.jsxs)("div",{className:"State",children:[Object(i.jsxs)("div",{className:"state-left",children:[Object(i.jsx)(E,{data:null===X||void 0===X?void 0:X[f],stateCode:f}),Object(i.jsxs)("div",{style:{position:"relative"},children:[Object(i.jsx)(M,Object(c.a)({},{mapStatistic:T,setMapStatistic:L})),Object(i.jsx)(C,{data:null===X||void 0===X?void 0:X[f]}),Object(i.jsx)(P,Object(c.a)(Object(c.a)({timeseries:null===K||void 0===K||null===(e=K[f])||void 0===e?void 0:e.dates},{stateCode:f}),{},{forceRender:!!Q}))]}),(null===X||void 0===X||null===(t=X[f])||void 0===t||null===(n=t.total)||void 0===n?void 0:n.vaccinated)&&Object(i.jsx)(S,{data:null===X||void 0===X?void 0:X[f]}),X&&Object(i.jsx)(j.Suspense,{fallback:Object(i.jsx)("div",{style:{minHeight:"50rem"}}),children:Object(i.jsx)(z,Object(c.a)({},{stateCode:f,data:X,regionHighlighted:q,setRegionHighlighted:A,mapStatistic:T,setMapStatistic:L}))}),Object(i.jsx)("span",{ref:Z}),X&&$&&Object(i.jsx)(I,Object(c.a)(Object(c.a)({},{stateCode:f,data:X}),{},{timeseries:null===K||void 0===K||null===(o=K[f])||void 0===o?void 0:o.dates}))]}),Object(i.jsx)("div",{className:"state-right",children:Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"district-bar",style:F?{}:{display:"flex"},children:[Object(i.jsxs)("div",{className:"district-bar-top",children:[Object(i.jsxs)("div",{className:"district-bar-left",children:[Object(i.jsx)("h2",{className:d()(T,"fadeInUp"),style:_[0],children:"Top districts"}),Object(i.jsx)("div",{className:"districts fadeInUp ".concat(F?"is-grid":""),style:F?Object(c.a)({gridTemplateRows:"repeat(".concat(Y,", 2rem)")},_[1]):_[1],children:Object.keys((null===X||void 0===X||null===(b=X[f])||void 0===b?void 0:b.districts)||{}).filter((function(e){return"Unknown"!==e})).sort((function(e,t){return function(e,t){var n=X[f].districts[e],i=X[f].districts[t];return Object(l.h)(i,"total",T)-Object(l.h)(n,"total",T)}(e,t)})).slice(0,F?void 0:5).map((function(e){var t=Object(l.h)(X[f].districts[e],"total",T),n=Object(l.h)(X[f].districts[e],"delta",T);return Object(i.jsxs)("div",{className:"district",children:[Object(i.jsx)("h2",{children:Object(l.e)(t)}),Object(i.jsx)("h5",{children:h(e)}),"active"!==T&&Object(i.jsx)("div",{className:"delta",children:Object(i.jsx)("h6",{className:T,children:n>0?"\u2191"+Object(l.e)(n):""})})]},e)}))})]}),Object(i.jsxs)("div",{className:"district-bar-right fadeInUp",style:_[2],children:[K&&("confirmed"===T||"deceased"===T)&&Object(i.jsx)("div",{className:"happy-sign",children:Object.keys((null===(u=K[f])||void 0===u?void 0:u.dates)||{}).slice(-ee).every((function(e){return 0===Object(l.h)(K[f].dates[e],"delta",T)}))&&Object(i.jsxs)("div",{className:"alert ".concat("confirmed"===T?"is-green":""),children:[Object(i.jsx)(m,{}),Object(i.jsxs)("div",{className:"alert-right",children:["No new ",T," cases in the past five days"]})]})}),Object(i.jsx)(N,Object(c.a)(Object(c.a)({timeseries:null===K||void 0===K||null===(O=K[f])||void 0===O?void 0:O.dates,statistic:T},{stateCode:f,lookback:ee}),{},{forceRender:!!Q}))]})]}),Object(i.jsx)("div",{className:"district-bar-bottom",children:Object.keys((null===X||void 0===X||null===(v=X[f])||void 0===v?void 0:v.districts)||{}).length>5?Object(i.jsx)("button",{className:"button fadeInUp",onClick:function(){J(!F)},style:_[3],children:Object(i.jsx)("span",{children:F?"View less":"View all"})}):Object(i.jsx)("div",{style:{height:"3.75rem",flexBasis:"15%"}})})]}),Object(i.jsx)(j.Suspense,{fallback:Object(i.jsx)("div",{}),children:Object(i.jsx)(R,Object(c.a)(Object(c.a)({},{stateCode:f,timeseries:K,regionHighlighted:q,setRegionHighlighted:A}),{},{forceRender:!!Q}))})]})})]}),Object(i.jsx)(k,{})]})}t.default=Object(j.memo)(U)}}]);
//# sourceMappingURL=32.d130c084.chunk.js.map