(this.webpackJsonpcovid19india=this.webpackJsonpcovid19india||[]).push([[39],{258:function(e,t,n){"use strict";n.r(t);var r=n(20),c=n(82),a=n(6),i=n(94),s=n(1),o=n.n(s),u=n(21),l=n.n(u);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var b=Object(s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,c=e.size,a=void 0===c?24:c,i=d(e,["color","size"]);return o.a.createElement("svg",f({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),o.a.createElement("circle",{cx:"11",cy:"11",r:"8"}),o.a.createElement("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}))}));b.propTypes={color:l.a.string,size:l.a.oneOfType([l.a.string,l.a.number])},b.displayName="Search";var j=b;function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function O(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var h=Object(s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,c=e.size,a=void 0===c?24:c,i=O(e,["color","size"]);return o.a.createElement("svg",p({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),o.a.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),o.a.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}));h.propTypes={color:l.a.string,size:l.a.oneOfType([l.a.string,l.a.number])},h.displayName="X";var v=h;function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var x=Object(s.forwardRef)((function(e,t){var n=e.color,r=void 0===n?"currentColor":n,c=e.size,a=void 0===c?24:c,i=y(e,["color","size"]);return o.a.createElement("svg",m({ref:t,xmlns:"http://www.w3.org/2000/svg",width:a,height:a,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},i),o.a.createElement("circle",{cx:"12",cy:"12",r:"10"}),o.a.createElement("polyline",{points:"12 16 16 12 12 8"}),o.a.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))}));x.propTypes={color:l.a.string,size:l.a.oneOfType([l.a.string,l.a.number])},x.displayName="ArrowRightCircle";var g=x,w=n(271),k=n(40),C=n(212);function N(e,t,n){void 0===t&&(t=0),void 0===n&&(n=[]);var r=function(e,t){void 0===t&&(t=0);var n=Object(s.useRef)(!1),r=Object(s.useRef)(),c=Object(s.useRef)(e),a=Object(s.useCallback)((function(){return n.current}),[]),i=Object(s.useCallback)((function(){n.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout((function(){n.current=!0,c.current()}),t)}),[t]),o=Object(s.useCallback)((function(){n.current=null,r.current&&clearTimeout(r.current)}),[]);return Object(s.useEffect)((function(){c.current=e}),[e]),Object(s.useEffect)((function(){return i(),o}),[t]),[a,o,i]}(e,t),c=r[0],a=r[1],i=r[2];return Object(s.useEffect)(i,n),[c,a]}var z=["Madurai","Karnataka","Ladakh","Mumbai","Andhra Pradesh","Alappuzha"],E=["Madurai","Ganjam","Alappuzha","Mumbai","Chennai"],T=["Andhra Pradesh","Karnataka","Gujarat","West Bengal","Ladakh"];function S(){var e=Object(s.useState)(""),t=Object(c.a)(e,2),o=t[0],u=t[1],l=Object(s.useState)(!1),f=Object(c.a)(l,2),d=f[0],b=f[1],p=Object(s.useState)([]),O=Object(c.a)(p,2),h=O[0],m=O[1],y=Object(s.useRef)(null),x=Object(w.a)().t,S=Object(s.useState)(null),P=Object(c.a)(S,2),D=P[0],L=P[1],R=Object(s.useState)(null),M=Object(c.a)(R,2),B=M[0],I=M[1];Object(C.a)((function(){n.e(24).then(n.t.bind(null,250,7)).then((function(e){L(new e.default({initialize:!0,local:a.s.filter((function(e){return e.code!==a.C})),queryTokenizer:e.default.tokenizers.whitespace,datumTokenizer:e.default.tokenizers.obj.whitespace("name")})),I(new e.default({initialize:!0,limit:5,queryTokenizer:e.default.tokenizers.whitespace,datumTokenizer:e.default.tokenizers.obj.whitespace("district"),indexRemote:!0,remote:{url:"https://api.covid19india.org/state_district_wise.json",transform:function(e){var t=[];return Object.keys(e).filter((function(e){return"State Unassigned"!==e})).map((function(n){var r=e[n].districtData;return Object.keys(r).filter((function(e){return e!==a.D})).map((function(e){return t.push({district:e,state:n})})),null})),t}}}))}))}),[d]);var A=Object(s.useCallback)((function(e){if(!D)return null;var t=[];D.search(e,(function(e){e.map((function(e,n){var r={name:e.name,type:"state",route:e.code};return t.push(r),null}))})),B.search(e,(function(e){e.slice(0,3).map((function(e,n){var r={name:e.district,type:"district",route:a.r[e.state]};return t.push(r),null})),m([].concat(t))}))}),[B,D]);function U(e,t){var n=Object.getOwnPropertyDescriptor(e,"value").set,r=Object.getPrototypeOf(e),c=Object.getOwnPropertyDescriptor(r,"value").set;n&&n!==c?c.call(e,t):n.call(e,t)}N((function(){o?A(o):m(Object(i.a)(h,(function(e){e.splice(0)})))}),100,[o]);var W=Object(s.useCallback)((function(e,t,n,r){if(d)return e.textContent="",!0;var c=x(z[t]),a=e.textContent;if(e.classList.remove("disappear"),e.textContent=a+c[n],n<c.length-1)return setTimeout((function(){W(e,t,n+1,r)}),200),!0;r()}),[d,x]),q=Object(s.useCallback)((function(e,t){var n=e.textContent;if(e.classList.add("disappear"),n.length>0)return setTimeout((function(){e.textContent="",q(e,t)}),1e3),!0;t()}),[]),F=Object(s.useCallback)((function(e,t){if(d)return e.textContent="",!0;W(e,t,0,(function(){setTimeout((function(){q(e,(function(){F(e,(t+1)%z.length)}))}),2e3)}))}),[q,d,W]);Object(s.useEffect)((function(){if(!d){var e=document.getElementsByClassName("search-placeholder")[0];e&&F(e,0)}}),[d,F]);var G=Object(s.useMemo)((function(){var e=[];return[0,0,0].map((function(t,n){return e.push({animationDelay:"".concat(250*n,"ms")}),null})),e}),[]),J=Object(s.useCallback)((function(){u(""),m([])}),[]),K=Object(s.useCallback)((function(e){u(e.target.value)}),[]);return Object(r.jsxs)("div",{className:"Search",children:[Object(r.jsx)("label",{className:"fadeInUp",style:G[0],children:x("Search your district or state")}),Object(r.jsx)("div",{className:"line fadeInUp",style:G[1]}),Object(r.jsxs)("div",{className:"search-input-wrapper fadeInUp",style:G[2],children:[Object(r.jsx)("input",{type:"text",value:o,ref:y,onFocus:b.bind(this,!0),onBlur:b.bind(this,!1),onChange:K}),!d&&""===o&&Object(r.jsx)("span",{className:"search-placeholder"}),Object(r.jsx)("div",{className:"search-button",children:Object(r.jsx)(j,{})}),o.length>0&&Object(r.jsx)("div",{className:"close-button",onClick:J,children:Object(r.jsx)(v,{})})]}),h.length>0&&Object(r.jsx)("div",{className:"results",children:h.map((function(e,t){return Object(r.jsx)(k.b,{to:"state/".concat(e.route),children:Object(r.jsxs)("div",{className:"result",children:[Object(r.jsx)("div",{className:"result-left",children:Object(r.jsxs)("div",{className:"result-name",children:["".concat(e.name),"district"===e.type&&", ".concat(a.t[e.route])]})}),Object(r.jsxs)("div",{className:"result-type",children:[Object(r.jsx)("span",{children:[e.route]}),Object(r.jsx)(g,{size:14})]})]})},t)}))}),d&&Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("div",{className:"expanded",children:[Object(r.jsxs)("div",{className:"expanded-left",children:[Object(r.jsx)("h3",{children:x("District")}),Object(r.jsx)("div",{className:"suggestions",children:E.map((function(e,t){return Object(r.jsxs)("div",{className:"suggestion",children:[Object(r.jsx)("div",{children:"-"}),Object(r.jsx)("h4",{onMouseDown:function(t){t.preventDefault(),U(y.current,e),y.current.dispatchEvent(new Event("input",{bubbles:!0}))},children:x(e)})]},t)}))})]}),Object(r.jsxs)("div",{className:"expanded-right",children:[Object(r.jsx)("h3",{children:x("State/UT")}),Object(r.jsx)("div",{className:"suggestions",children:T.map((function(e,t){return Object(r.jsxs)("div",{className:"suggestion",children:[Object(r.jsx)("div",{children:"-"}),Object(r.jsx)("h4",{onMouseDown:function(t){t.preventDefault(),U(y.current,e),y.current.dispatchEvent(new Event("input",{bubbles:!0}))},children:x(e)})]},t)}))})]})]})})]})}var P=function(){return!0};t.default=Object(s.memo)(S,P)}}]);
//# sourceMappingURL=39.fcec2e0d.chunk.js.map